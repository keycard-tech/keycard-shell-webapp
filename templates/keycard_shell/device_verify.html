{% extends './base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="{% static '/keycard_shell/css/style.css' %}">
<input type="hidden" id="device_verify__csfr" name="csfr" value="{{ csrf_token }}">
<div class="keycard_shell__page-header-container">
    <h1 class="keycard_shell__page-header">Verify authenticity of Shell</h1>
</div> 
<div class="keycard_shell__verify-step-prompt-container">
    <div class="keycard_shell__verify-step-prompt">
        <span class="keycard_shell__verify-step-prompt">Ensure your Shell is authentic and check its verification history.</span>
        <span>Please, read <a href="#" class="keycard_shell__verify-step-prompt-help-link">help article for more details about verification</a>.</span>
    </div>
</div>
<div class="keycard_shell__device-container">  
  <div id="kpro_web__verify-step1" class="keycard_shell__verify-step">
    <div class="keycard_shell__verify-action-container">
        <div class="keycard_shell__h2-container keycard_shell__verify-action-el">
            <h2 class="keycard_shell__h2">Scan QR</h2>
        </div>
        <div class="keycard_shell__action-prompt-container keycard_shell__verify-action-el">
            <p class="keycard_shell__action-prompt">Go to Settings / Device / Verification on your Shell and scan this QR to initiate the device verification.</p>
        </div>
        <div class="keycard_shell__qr-container keycard_shell__verify-action-el">
            <canvas class="keycard_shell__qr" id="device_verify__qr"></canvas>
        </div>
        <div class="keycard_shell__btn-container keycard_shell__verify-action-el">
            <input id="device_verify__next-button" class="keycard_shell__btn" type="button" value="Continue">
        </div>
    </div>
    </div>
    <div id="kpro_web__verify-step2" class="keycard_shell__verify-step keycard_shell__display-none">
        <div class="keycard_shell__verify-action-container">
            <div class="keycard_shell__h2-container keycard_shell__verify-action-el">
                <h2 class="keycard_shell__h2">Enable camera</h2>
            </div>
            <div class="keycard_shell__action-prompt-container keycard_shell__verify-action-el">
                <p class="keycard_shell__action-prompt">Enable camera on you current device and scan Shell QR to finalize the authenticity verification.</p>
            </div>
            <div class="keycard_shell__enable-camera-container keycard_shell__verify-action-el">
                <img src="{% static 'keycard_shell/img/camera.svg' %}" class="keycard_shell__enable-camera-img"alt="Camera">
            </div>
            <div class="keycard_shell__btn-container keycard_shell__verify-action-el">
                <input id="device_verify__scan-button" class="keycard_shell__btn" type="button" value="Enable Camera">
            </div>
        </div>
    </div>
    <div id="kpro_web__verify-step3" class="keycard_shell__verify-step keycard_shell__display-none">
      <div class="keycard_shell__verify-action-container">
        <div class="keycard_shell__h2-container keycard_shell__verify-action-el">
            <h2 class="keycard_shell__h2">Now scan Shell QR</h2>
        </div>
         <div class="keycard_shell__action-prompt-container keycard_shell__verify-action-el">
            <p class="keycard_shell__action-prompt">Scan Shell QR to finalize the authenticity verification.</p>
        </div>
        <div id="device_verify__qr-reader" class="device_verify__scan-container keycard_shell__verify-action-el"></div>
        <div class="keycard_shell__scanning-msg-container keycard_shell__verify-action-el">
            <div class="keycard_shell__scanning-msg">
                <span class="keycard_shell__scanning-effect">Scanning...</span>
            </div>
        </div>
      </div>  
    </div>
  <div id="kpro_web__verify-step4" class="keycard_shell__verify-step keycard_shell__display-none">
    <div class="keycard_shell__verify-action-container">
        <div class="keycard_shell__h2-container keycard_shell__verify-action-el">
            <h2 class="keycard_shell__h2" id="verify-result-header"></h2>
        </div>
         <div class="keycard_shell__action-prompt-container keycard_shell__verify-action-el">
            <p class="keycard_shell__action-prompt" id="verify-result-prompt"></p>
        </div>
        <div id="device-verification-count-warning" class="keycard_shell__device-verification-warning-container keycard_shell__verify-action-el keycard_shell__display-none">
            <div class="keycard_shell__device-verification-warning-icon-container">
                <img src="{% static 'keycard_shell/img/warning.svg' %}" alt="Warning" class="keycard_shell__device-verification-warning-icon">
            </div>
            <div class="keycard_shell__device-verification-warning-prompt-container">
                <span class="keycard_shell__device-verification-warning-prompt">Your Shell has been already verified before. If you remember doing this previously, there's no need to worry. Otherwise, please <a href="mailto:support@keycard.tech" class="keycard_shell__device-verification-warning-link">contact us</a>.</span>
            </div>
            </div>
        <div class="kpro_web__success-qr-container keycard_shell__qr-container keycard_shell__verify-action-el keycard_shell__display-none" id="verify-success-qr-container">
            <canvas class="keycard_shell__qr keycard_shell__qr-success" id="device_success__qr"></canvas>
        </div>
        <div class="keycard_shell__btn-container keycard_shell__verify-action-el">
            <a href="" id="device_verify__scan-finished-link">
                <input id="device_verify__scan-finished" class="keycard_shell__btn" type="button" value="Done">
            </a>
        </div>
    </div>
  </div>
</div>
<div class="keycard_shell__bottom">
    <div class="keycard_shell__bottom-heading-container keycard_shell__display-none" id="bottom-heading">
        <div class="keycard_shell__bottom-heading">
            <h2 class="keycard_shell__h2" id="verify-result-header">What's next?</h2>
        </div>
        <div class="keycard_shell__bottom-prompt-container">
            <span class="keycard_shell__bottom-prompt">Keep your Shell secure and up-to-date and join our community</span>
        </div>
    </div>
    <div class="keycard_shell__bottom-content-container" id="bottom-content-container">
        <div class="keycard_shell__bottom-menu-part">
            <div class="keycard_shell__bottom-menu-header">
                <h3 class="keycard_shell__h3">Have questions?</h3>
            </div>
            <div class="keycard_shell__bottom-menu-prompt">
                <p class="keycard_shell__bottom-menu-prompt-text">Reach out to our team or engage with our community on Discord or X. <span class="keycard_shell__align-text"></span></p>
            </div>
            <div class="keycard_shell__help-links">
                <ul class="keycard_shell__help-links-list">
                    <li class="keycard_shell__help-links-list-el"><a href="mailto:support@keycard.tech" class="keycard_shell__help-link">Get in touch</a></li>
                    <li class="keycard_shell__help-links-list-el"><a href="https://discord.com/invite/uJAXk7jFhZ" class="keycard_shell__help-link"><img src="{% static 'keycard_shell/img/discord.svg' %}" class="keycard_shell__help-link-img" alt="Discord"></a></li>
                    <li class="keycard_shell__help-links-list-el"><a href="https://x.com/Keycard_" class="keycard_shell__help-link"><img src="{% static 'keycard_shell/img/twitter.svg' %}" class="keycard_shell__help-link-img" alt="Discord"></a></li>
                </ul>
            </div>
        </div>
        <div class="keycard_shell__bottom-menu-part keycard_shell__display-none" id="update-fw">
            <div class="keycard_shell__bottom-menu-header">
                <h3 class="keycard_shell__h3">Upgrade firmware</h3>
            </div>
            <div class="keycard_shell__bottom-menu-prompt">
                <p class="keycard_shell__bottom-menu-prompt-text">Get the latest features and security improvements by installing the newest firmware. Update to <span id="fw-update-version"></span></p>
            </div>
            <div class="keycard_shell__update-links">
                <div class="keycard_shell__update-links-list">
                    <span class="keycard_shell__update-links-el">
                        <a href="{% url 'firmware:firmware-index' %}" id="update-db-usb-link" class="keycard_shell__update-link">
                            <img src="{% static 'keycard_shell/img/firmware.svg' %}" alt="FW">
                            <span>Update firmware</span>
                        </a>
                    </span>
                    <span class="keycard_shell__update-links-el-no-bg">
                        <a href="" id="update-db-qr-link" class="keycard_external-link">
                            <span>Release notes</span>
                            <img src="{% static 'keycard_shell/img/external.svg' %}" class="keycard_shell__help-link-img" alt="External">
                        </a>
                    </span>
                </div>
            </div>
        </div>
        <div class="keycard_shell__bottom-menu-part keycard_shell__display-none" id="update-db">
            <div class="keycard_shell__bottom-menu-header">
                <h3 class="keycard_shell__h3">Update token database</h3>
            </div>
            <div class="keycard_shell__bottom-menu-prompt">
                <p class="keycard_shell__bottom-menu-prompt-text">Keep your token list up to date so Shell can recognize new tokens in transactions. Update to <span id="db-update-version"></span></p>
            </div>
            <div class="keycard_shell__update-links">
                <div class="keycard_shell__update-links-list">
                    <span class="keycard_shell__update-links-el">
                        <a href="" id="update-db-usb-link" class="keycard_shell__update-link">
                            <img src="{% static 'keycard_shell/img/keycard-pro.svg' %}" alt="Shell">
                            <span>Connect device</span>
                        </a>
                    </span>
                    <span class="keycard_shell__update-links-el-no-bg">or</span>
                    <span class="keycard_shell__update-links-el">
                        <a href="" id="update-db-qr-link" class="keycard_shell__update-link">
                            <img src="{% static 'keycard_shell/img/qr-code.svg' %}" class="keycard_shell__help-link-img" alt="QR">
                            <span>Scan QR</span>
                        </a>
                    </span>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="{% static '/keycard_shell/js/device.js' %}"></script>
{% endblock %}
